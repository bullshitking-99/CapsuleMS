{"remainingRequest":"C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\src\\components\\Tags.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\src\\components\\Tags.vue","mtime":1649401825000},{"path":"C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649401825000},{"path":"C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1649401825000},{"path":"C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\babel-loader\\lib\\index.js","mtime":1649401825000},{"path":"C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649401825000},{"path":"C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1649401825000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogewogICAgdGFnc0xpc3Q6IGZ1bmN0aW9uIHRhZ3NMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudGFnc0xpc3Q7CiAgICB9LAogICAgc2hvd1RhZ3M6IGZ1bmN0aW9uIHNob3dUYWdzKCkgewogICAgICByZXR1cm4gdGhpcy50YWdzTGlzdC5sZW5ndGggPiAwOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKHBhdGgpIHsKICAgICAgcmV0dXJuIHBhdGggPT09IHRoaXMuJHJvdXRlLmZ1bGxQYXRoOwogICAgfSwKICAgIC8vIOWFs+mXreWNleS4quagh+etvgogICAgY2xvc2VUYWdzOiBmdW5jdGlvbiBjbG9zZVRhZ3MoaW5kZXgpIHsKICAgICAgdmFyIGRlbEl0ZW0gPSB0aGlzLnRhZ3NMaXN0W2luZGV4XTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJkZWxUYWdzSXRlbSIsIHsKICAgICAgICBpbmRleDogaW5kZXgKICAgICAgfSk7CiAgICAgIHZhciBpdGVtID0gdGhpcy50YWdzTGlzdFtpbmRleF0gPyB0aGlzLnRhZ3NMaXN0W2luZGV4XSA6IHRoaXMudGFnc0xpc3RbaW5kZXggLSAxXTsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgZGVsSXRlbS5wYXRoID09PSB0aGlzLiRyb3V0ZS5mdWxsUGF0aCAmJiB0aGlzLiRyb3V0ZXIucHVzaChpdGVtLnBhdGgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlhbPpl63lhajpg6jmoIfnrb4KICAgIGNsb3NlQWxsOiBmdW5jdGlvbiBjbG9zZUFsbCgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjbGVhclRhZ3MiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0sCiAgICAvLyDlhbPpl63lhbbku5bmoIfnrb4KICAgIGNsb3NlT3RoZXI6IGZ1bmN0aW9uIGNsb3NlT3RoZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VySXRlbSA9IHRoaXMudGFnc0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCA9PT0gX3RoaXMuJHJvdXRlLmZ1bGxQYXRoOwogICAgICB9KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjbG9zZVRhZ3NPdGhlciIsIGN1ckl0ZW0pOwogICAgfSwKICAgIC8vIOiuvue9ruagh+etvgogICAgc2V0VGFnczogZnVuY3Rpb24gc2V0VGFncyhyb3V0ZSkgewogICAgICB2YXIgaXNFeGlzdCA9IHRoaXMudGFnc0xpc3Quc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnBhdGggPT09IHJvdXRlLmZ1bGxQYXRoOwogICAgICB9KTsKCiAgICAgIGlmICghaXNFeGlzdCkgewogICAgICAgIGlmICh0aGlzLnRhZ3NMaXN0Lmxlbmd0aCA+PSA4KSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImRlbFRhZ3NJdGVtIiwgewogICAgICAgICAgICBpbmRleDogMAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFRhZ3NJdGVtIiwgewogICAgICAgICAgbmFtZTogcm91dGUubmFtZSwKICAgICAgICAgIHRpdGxlOiByb3V0ZS5tZXRhLnRpdGxlLAogICAgICAgICAgcGF0aDogcm91dGUuZnVsbFBhdGgKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVRhZ3M6IGZ1bmN0aW9uIGhhbmRsZVRhZ3MoY29tbWFuZCkgewogICAgICBjb21tYW5kID09PSAib3RoZXIiID8gdGhpcy5jbG9zZU90aGVyKCkgOiB0aGlzLmNsb3NlQWxsKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUobmV3VmFsdWUpIHsKICAgICAgdGhpcy5zZXRUYWdzKG5ld1ZhbHVlKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFRhZ3ModGhpcy4kcm91dGUpOyAvLyDlhbPpl63lvZPliY3pobXpnaLnmoTmoIfnrb7pobUKICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2xvc2VDdXJyZW50VGFnIiwgewogICAgLy8gICAgICRyb3V0ZXI6IHRoaXMuJHJvdXRlciwKICAgIC8vICAgICAkcm91dGU6IHRoaXMuJHJvdXRlCiAgICAvLyB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\86155\\.vscode\\WEBcode\\VUE\\CapsuleMS\\src\\components\\Tags.vue"],"names":[],"mappings":";;AAiCA,eAAe;AACX,EAAA,QAAQ,EAAE;AACN,IAAA,QADM,sBACK;AACP,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,QAAzB;AACH,KAHK;AAIN,IAAA,QAJM,sBAIK;AACP,aAAO,KAAK,QAAL,CAAc,MAAd,GAAuB,CAA9B;AACJ;AANM,GADC;AASX,EAAA,OAAO,EAAE;AACL,IAAA,QADK,oBACI,IADJ,EACU;AACX,aAAO,IAAG,KAAM,KAAK,MAAL,CAAY,QAA5B;AACH,KAHI;AAIL;AACA,IAAA,SALK,qBAKK,KALL,EAKY;AACb,UAAM,OAAM,GAAI,KAAK,QAAL,CAAc,KAAd,CAAhB;AACA,WAAK,MAAL,CAAY,MAAZ,CAAmB,aAAnB,EAAkC;AAAE,QAAA,KAAI,EAAJ;AAAF,OAAlC;AACA,UAAM,IAAG,GAAI,KAAK,QAAL,CAAc,KAAd,IACP,KAAK,QAAL,CAAc,KAAd,CADO,GAEP,KAAK,QAAL,CAAc,KAAI,GAAI,CAAtB,CAFN;;AAGA,UAAI,IAAJ,EAAU;AACN,QAAA,OAAO,CAAC,IAAR,KAAiB,KAAK,MAAL,CAAY,QAA7B,IACI,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAI,CAAC,IAAvB,CADJ;AAEJ,OAHA,MAGO;AACH,aAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACJ;AACH,KAjBI;AAkBL;AACA,IAAA,QAnBK,sBAmBM;AACP,WAAK,MAAL,CAAY,MAAZ,CAAmB,WAAnB;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACH,KAtBI;AAuBL;AACA,IAAA,UAxBK,wBAwBQ;AAAA;;AACT,UAAM,OAAM,GAAI,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAA,IAAG,EAAK;AACzC,eAAO,IAAI,CAAC,IAAL,KAAc,KAAI,CAAC,MAAL,CAAY,QAAjC;AACH,OAFe,CAAhB;AAGA,WAAK,MAAL,CAAY,MAAZ,CAAmB,gBAAnB,EAAqC,OAArC;AACH,KA7BI;AA8BL;AACA,IAAA,OA/BK,mBA+BG,KA/BH,EA+BU;AACX,UAAM,OAAM,GAAI,KAAK,QAAL,CAAc,IAAd,CAAmB,UAAA,IAAG,EAAK;AACvC,eAAO,IAAI,CAAC,IAAL,KAAc,KAAK,CAAC,QAA3B;AACH,OAFe,CAAhB;;AAGA,UAAI,CAAC,OAAL,EAAc;AACV,YAAI,KAAK,QAAL,CAAc,MAAd,IAAwB,CAA5B,EAA+B;AAC3B,eAAK,MAAL,CAAY,MAAZ,CAAmB,aAAnB,EAAkC;AAAE,YAAA,KAAK,EAAE;AAAT,WAAlC;AACJ;;AACA,aAAK,MAAL,CAAY,MAAZ,CAAmB,aAAnB,EAAkC;AAC9B,UAAA,IAAI,EAAE,KAAK,CAAC,IADkB;AAE9B,UAAA,KAAK,EAAE,KAAK,CAAC,IAAN,CAAW,KAFY;AAG9B,UAAA,IAAI,EAAE,KAAK,CAAC;AAHkB,SAAlC;AAKJ;AACH,KA7CI;AA8CL,IAAA,UA9CK,sBA8CM,OA9CN,EA8Ce;AAChB,MAAA,OAAM,KAAM,OAAZ,GAAsB,KAAK,UAAL,EAAtB,GAA0C,KAAK,QAAL,EAA1C;AACJ;AAhDK,GATE;AA2DX,EAAA,KAAK,EAAE;AACH,IAAA,MADG,kBACI,QADJ,EACc;AACb,WAAK,OAAL,CAAa,QAAb;AACJ;AAHG,GA3DI;AAgEX,EAAA,OAhEW,qBAgED;AACN,SAAK,OAAL,CAAa,KAAK,MAAlB,EADM,CAEN;AACA;AACA;AACA;AACA;AACJ;AAvEW,CAAf","sourcesContent":["<template>\n    <div class=\"tags\" v-if=\"showTags\">\n        <ul>\n            <li\n                class=\"tags-li\"\n                v-for=\"(item,index) in tagsList\"\n                :class=\"{'active': isActive(item.path)}\"\n                :key=\"index\"\n            >\n                <router-link :to=\"item.path\" class=\"tags-li-title\">{{item.title}}</router-link>\n                <span class=\"tags-li-icon\" @click=\"closeTags(index)\">\n                    <i class=\"el-icon-close\"></i>\n                </span>\n            </li>\n        </ul>\n        <div class=\"tags-close-box\">\n            <el-dropdown @command=\"handleTags\">\n                <el-button size=\"mini\" type=\"primary\">\n                    标签选项\n                    <i class=\"el-icon-arrow-down el-icon--right\"></i>\n                </el-button>\n                <template #dropdown>\n                    <el-dropdown-menu size=\"small\">\n                        <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\n                        <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\n                    </el-dropdown-menu>\n                </template>\n            </el-dropdown>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    computed: {\n        tagsList() {\n            return this.$store.state.tagsList;\n        },\n        showTags() {\n            return this.tagsList.length > 0;\n        }\n    },\n    methods: {\n        isActive(path) {\n            return path === this.$route.fullPath;\n        },\n        // 关闭单个标签\n        closeTags(index) {\n            const delItem = this.tagsList[index];\n            this.$store.commit(\"delTagsItem\", { index });\n            const item = this.tagsList[index]\n                ? this.tagsList[index]\n                : this.tagsList[index - 1];\n            if (item) {\n                delItem.path === this.$route.fullPath &&\n                    this.$router.push(item.path);\n            } else {\n                this.$router.push(\"/\");\n            }\n        },\n        // 关闭全部标签\n        closeAll() {\n            this.$store.commit(\"clearTags\");\n            this.$router.push(\"/\");\n        },\n        // 关闭其他标签\n        closeOther() {\n            const curItem = this.tagsList.filter(item => {\n                return item.path === this.$route.fullPath;\n            });\n            this.$store.commit(\"closeTagsOther\", curItem);\n        },\n        // 设置标签\n        setTags(route) {\n            const isExist = this.tagsList.some(item => {\n                return item.path === route.fullPath;\n            });\n            if (!isExist) {\n                if (this.tagsList.length >= 8) {\n                    this.$store.commit(\"delTagsItem\", { index: 0 });\n                }\n                this.$store.commit(\"setTagsItem\", {\n                    name: route.name,\n                    title: route.meta.title,\n                    path: route.fullPath\n                });\n            }\n        },\n        handleTags(command) {\n            command === \"other\" ? this.closeOther() : this.closeAll();\n        }\n    },\n    watch: {\n        $route(newValue) {\n            this.setTags(newValue);\n        }\n    },\n    created() {\n        this.setTags(this.$route);\n        // 关闭当前页面的标签页\n        // this.$store.commit(\"closeCurrentTag\", {\n        //     $router: this.$router,\n        //     $route: this.$route\n        // });\n    }\n};\n</script>\n\n\n<style>\n.tags {\n    position: relative;\n    height: 30px;\n    overflow: hidden;\n    background: #fff;\n    padding-right: 120px;\n    box-shadow: 0 5px 10px #ddd;\n}\n\n.tags ul {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n}\n\n.tags-li {\n    float: left;\n    margin: 3px 5px 2px 3px;\n    border-radius: 3px;\n    font-size: 12px;\n    overflow: hidden;\n    cursor: pointer;\n    height: 23px;\n    line-height: 23px;\n    border: 1px solid #e9eaec;\n    background: #fff;\n    padding: 0 5px 0 12px;\n    vertical-align: middle;\n    color: #666;\n    -webkit-transition: all 0.3s ease-in;\n    -moz-transition: all 0.3s ease-in;\n    transition: all 0.3s ease-in;\n}\n\n.tags-li:not(.active):hover {\n    background: #f8f8f8;\n}\n\n.tags-li.active {\n    color: #fff;\n}\n\n.tags-li-title {\n    float: left;\n    max-width: 80px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    margin-right: 5px;\n    color: #666;\n}\n\n.tags-li.active .tags-li-title {\n    color: #fff;\n}\n\n.tags-close-box {\n    position: absolute;\n    right: 0;\n    top: 0;\n    box-sizing: border-box;\n    padding-top: 1px;\n    text-align: center;\n    width: 110px;\n    height: 30px;\n    background: #fff;\n    box-shadow: -3px 0 15px 3px rgba(0, 0, 0, 0.1);\n    z-index: 10;\n}\n</style>\n"],"sourceRoot":""}]}